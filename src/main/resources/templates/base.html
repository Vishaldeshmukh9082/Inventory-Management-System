<!DOCTYPE html>
<html lang="en" th:fragment="parent(sec)" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inventory System</title>

  <link data-th-href="@{'/css/output.css'}" rel="stylesheet">
  <link rel="stylesheet" data-th-href="@{'/css/style.css'}" />
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body>

  <div th:if="${loggedInUser != null && loggedInUser.roleList.contains('ROLE_ADMIN')}">
    <div data-th-replace="~{admin/adminnavbar::navbar}"></div>
    <div data-th-replace="~{admin/sidebar::sidebar}"></div>
  </div>
  <div th:if="${loggedInUser != null && loggedInUser.roleList.contains('ROLE_USER')}">
    <div data-th-replace="~{user/usernavbar::navbar}"></div>
  </div> 

  <!-- user is not logged : navbar -->
  <div th:unless="${loggedInUser}">
    <div data-th-replace="~{navbar :: navbar}"></div>
  </div>
<!-- 
    <div th:if="${loggedInUser != null && #lists.contains(loggedInUser.roleList, 'ROLE_ADMIN')}" 
         data-th-replace="~{admin/adminnavbar::navbar}"></div>
    <div th:if="${loggedInUser != null &&#lists.contains(loggedInUser.roleList, 'ROLE_ADMIN')}" 
         data-th-replace="~{admin/sidebar::sidebar}"></div>


<div th:if="${loggedInUser != null && #lists.contains(loggedInUser.roleList, 'ROLE_USER')}">
    <div data-th-replace="~{user/usernavbar::navbar}"></div>
</div>

<div th:if="${loggedInUser == null}">
    <div data-th-replace="~{navbar::navbar}"></div>
</div> -->
<!-- <div sec:authorize="hasRole('ROLE_ADMIN')">
  <p  th:text="${loggedInUser.roleList }" >You are an Admin!</p>
</div>

<div sec:authorize="hasRole('ROLE_USER')">
  <p>You are a regular User!</p>
</div> -->

<div class="  flex justify-center">
  <div data-th-replace="message:: messageBox"></div>
  </div>

  <div class="">
    <section th:replace="${sec}"></section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
</body>

</html>